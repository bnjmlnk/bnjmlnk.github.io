import{c as N,r as n,j as e}from"./index-BR67lt5V.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=N("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=N("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),q="/assets/gantriis-recording-B7Dk0U22.mp4",J="/assets/live-1-CJalj0n1.jpg",U="/assets/mikkel-mixing-cxR5atlr.jpg",G="/assets/september-kid-recording-LOZE4qNJ.mp4",K="/assets/september-kid-vibing-C_97Zyfx.mp4",Z="/assets/studio-1-DrxUvOSG.jpg",X="/assets/studio-2-B5SdV_a4.jpg",F="/assets/studio-3-BiAOva-x.jpg",H="/assets/studio-4-BeYIRI9l.jpg",Q="/assets/studio-5-vmt-UocX.jpg",Y="/assets/studio-6-S-fpppbM.jpg",ee="/assets/studio-7-C8ZLEtbq.jpg",te="/assets/studio-8-CAzChLkB.jpg",se="/assets/studio-9-CwJQ0Tdi.jpg",ie="/assets/studio-10-CEOlmeeJ.jpg",ne="/assets/tue-recording-DECpJtaB.mp4",re="/assets/wernby-vibing-Bk2nCSe5.mp4",oe="/assets/writing-vibing-nRJm6xtx.mp4",x=[{src:Z,alt:"Studio overview",type:"image"},{src:G,alt:"Recording session",type:"video",position:"center 30%"},{src:X,alt:"Recording setup",type:"image"},{src:F,alt:"Equipment close-up",type:"image"},{src:q,alt:"Mixing session in action",type:"video",position:"center 20%"},{src:U,alt:"Mixing station",type:"image",position:"center center"},{src:H,alt:"Vocal booth",type:"image"},{src:ne,alt:"Tue recording",type:"video",position:"center 40%"},{src:Q,alt:"Control room",type:"image",position:"center 90%"},{src:Y,alt:"Writing session",type:"image",position:"center 50%"},{src:re,alt:"Wernby vibing",type:"video",position:"center 20%"},{src:ee,alt:"Writing session",type:"image",position:"center 50%"},{src:te,alt:"Writing session",type:"image",position:"center 50%"},{src:K,alt:"September kid vibing",type:"video",position:"center 20%"},{src:J,alt:"Live at the Huset",type:"image",position:"center 50%"},{src:se,alt:"Writing session",type:"image",position:"center 50%"},{src:oe,alt:"Writing vibing",type:"video",position:"center 20%"},{src:ie,alt:"Writing session",type:"image",position:"center 50%"}],ae=300,ce=5e3,w={mobile:768,tablet:1024},I=()=>typeof window>"u"?3:window.innerWidth<w.mobile?1:window.innerWidth<w.tablet?2:3,le=i=>i===1?"calc(100% - 0px)":i===2?"calc(50% - 12px)":"calc(33.33% - 16px)",S=i=>`data:image/svg+xml;base64,${btoa(`
    <svg width="400" height="400" xmlns="http://www.w3.org/2000/svg">
      <rect width="400" height="400" fill="#1a1a1a"/>
      <text x="200" y="200" font-family="Arial, sans-serif" font-size="16" fill="#666" text-anchor="middle" dominant-baseline="middle">
        ${i}
      </text>
    </svg>
  `)}`,de=(i,o)=>{if(o<=1)return new Set([0]);const a=(i-1+o)%o,d=(i+1)%o;return new Set([a,i,d])},ue=()=>e.jsx("div",{className:"group relative overflow-hidden rounded-xl bg-card border flex-shrink-0 animate-pulse",children:e.jsx("div",{className:"aspect-square bg-muted/40"})}),ge=({media:i,shouldLoad:o,isActive:a})=>{const d=n.useRef(null);if(n.useEffect(()=>{const r=d.current;if(r)if(a&&o){const u=r.play();u!==void 0&&u.catch(()=>{})}else r.pause(),r.currentTime=0},[a,o]),!o)return e.jsx(ue,{});const c="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",f={objectPosition:i.position||"center center"};return e.jsx("div",{className:"group relative overflow-hidden rounded-xl bg-card border hover:border-primary/50 transition-all duration-300 flex-shrink-0",children:e.jsx("div",{className:"aspect-square relative overflow-hidden",children:i.type==="video"?e.jsx("video",{ref:d,className:c,style:f,muted:!0,loop:!0,playsInline:!0,preload:"metadata",poster:S("Studio Video Preview"),onError:r=>{const u=r.currentTarget,g=document.createElement("div");g.setAttribute("style","width: 100%; height: 100%; background: #1a1a1a; display: flex; align-items: center; justify-content: center; color: #666; font-size: 16px; text-align: center;"),g.textContent="Studio Video Coming Soon",u.replaceWith(g)},children:e.jsx("source",{src:i.src,type:"video/mp4"})}):e.jsx("img",{src:i.src,alt:i.alt,className:c,style:f,loading:"lazy",decoding:"async",width:1200,height:1600,onError:r=>{r.currentTarget.src=S("Studio Photo Coming Soon")}})})})},pe=()=>{const[i,o]=n.useState(0),[a,d]=n.useState(!1),[c,f]=n.useState(I()),[r,u]=n.useState(!1),[g,C]=n.useState(!1),k=n.useRef(null),p=n.useRef(null),[P,R]=n.useState(()=>new Set([0]));n.useEffect(()=>{const t=()=>{f(I())};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),n.useEffect(()=>{const t=new IntersectionObserver(([h])=>{C(h.isIntersecting&&h.intersectionRatio>=.3)},{threshold:[0,.3,.5],rootMargin:"0px 0px -30% 0px"}),s=setTimeout(()=>{p.current&&t.observe(p.current)},100);return()=>{clearTimeout(s),p.current&&t.unobserve(p.current)}},[]),n.useEffect(()=>{if(!g||r||a)return;const t=setInterval(()=>{y()},ce);return()=>clearInterval(t)},[i,r,a,c,g]);const m=Math.ceil(x.length/c),l=Math.floor(i/c);n.useEffect(()=>{R(t=>{const s=new Set(t);return de(l,m).forEach(b=>s.add(b)),s})},[l,m]);const v=t=>{a||(d(!0),o(t*c),setTimeout(()=>d(!1),ae))},E=()=>{u(!0)},T=()=>{u(!1)},y=()=>{const t=l===m-1?0:l+1;v(t)},V=()=>{const t=l===0?m-1:l-1;v(t)},M=t=>{const s=t*c,h=Math.min(s+c,x.length),b=x.slice(s,h),B=P.has(t),O=t===l;return b.map((W,z)=>{const $=s+z;return e.jsx("div",{className:"flex-shrink-0",style:{width:le(c)},children:e.jsx(ge,{media:W,shouldLoad:B,isActive:O})},$)})},j=t=>`
    absolute top-1/2 -translate-y-1/2 z-10 bg-background/80 backdrop-blur-sm border rounded-full p-3 transition-all duration-300
    hover:bg-background hover:border-primary/50 text-foreground hover:text-primary cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/60
  `,L=t=>`
    group relative inline-flex items-center justify-center w-12 h-12 rounded-full transition-all duration-300
    ${t?"cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/60":"cursor-not-allowed opacity-50"}
  `,A=t=>`
    block h-2 rounded-full transition-all duration-300
    ${t?"bg-primary w-8":"bg-muted-foreground/30 group-hover:bg-muted-foreground/50 w-2"}
  `;return e.jsx("section",{ref:p,id:"behind-scenes",className:"py-20 bg-card/30",children:e.jsxs("div",{className:"container-width section-padding",children:[e.jsx("div",{className:"text-center mb-16",children:e.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Behind the ",e.jsx("span",{className:"text-gradient",children:"Scenes"})]})}),e.jsxs("div",{className:"relative",onMouseEnter:E,onMouseLeave:T,children:[e.jsx("button",{type:"button",onClick:V,disabled:!1,className:`left-0 ${j()}`,"aria-label":"Show previous studio media",children:e.jsx(_,{size:24})}),e.jsx("button",{type:"button",onClick:y,disabled:!1,className:`right-0 ${j()}`,"aria-label":"Show next studio media",children:e.jsx(D,{size:24})}),e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"px-8",children:e.jsx("div",{ref:k,className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${l*100}%)`},children:Array.from({length:m},(t,s)=>e.jsx("div",{className:"flex gap-6 flex-shrink-0 w-full",children:M(s)},`page-${s}`))})})}),e.jsx("div",{className:"flex justify-center mt-8 gap-2",children:Array.from({length:m},(t,s)=>e.jsxs("button",{type:"button",disabled:a,onClick:()=>v(s),className:L(!a),"aria-label":`Go to slide ${s+1}`,"aria-current":l===s?"true":void 0,children:[e.jsx("span",{"aria-hidden":"true",className:A(l===s)}),e.jsxs("span",{className:"sr-only",children:["Slide ",s+1]})]},s))})]})]})})};export{pe as default};
