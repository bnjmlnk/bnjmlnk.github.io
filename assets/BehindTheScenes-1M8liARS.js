import{c as N,r as i,j as e}from"./index-C1Uynepu.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=N("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=N("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),q="/assets/gantriis-recording-B7Dk0U22.mp4",D="/assets/live-1-CJalj0n1.jpg",J="/assets/mikkel-mixing-cxR5atlr.jpg",U="/assets/september-kid-recording-LOZE4qNJ.mp4",K="/assets/september-kid-vibing-C_97Zyfx.mp4",Z="/assets/studio-1-DrxUvOSG.jpg",G="/assets/studio-2-B5SdV_a4.jpg",X="/assets/studio-3-BiAOva-x.jpg",F="/assets/studio-4-BeYIRI9l.jpg",H="/assets/studio-5-vmt-UocX.jpg",Q="/assets/studio-6-S-fpppbM.jpg",Y="/assets/studio-7-C8ZLEtbq.jpg",ee="/assets/studio-8-CAzChLkB.jpg",te="/assets/studio-9-CwJQ0Tdi.jpg",se="/assets/studio-10-CEOlmeeJ.jpg",ne="/assets/tue-recording-DECpJtaB.mp4",ie="/assets/wernby-vibing-Bk2nCSe5.mp4",re="/assets/writing-vibing-nRJm6xtx.mp4",b=[{src:Z,alt:"Studio overview",type:"image"},{src:U,alt:"Recording session",type:"video",position:"center 30%"},{src:G,alt:"Recording setup",type:"image"},{src:X,alt:"Equipment close-up",type:"image"},{src:q,alt:"Mixing session in action",type:"video",position:"center 20%"},{src:J,alt:"Mixing station",type:"image",position:"center center"},{src:F,alt:"Vocal booth",type:"image"},{src:ne,alt:"Tue recording",type:"video",position:"center 40%"},{src:H,alt:"Control room",type:"image",position:"center 90%"},{src:Q,alt:"Writing session",type:"image",position:"center 50%"},{src:ie,alt:"Wernby vibing",type:"video",position:"center 20%"},{src:Y,alt:"Writing session",type:"image",position:"center 50%"},{src:ee,alt:"Writing session",type:"image",position:"center 50%"},{src:K,alt:"September kid vibing",type:"video",position:"center 20%"},{src:D,alt:"Live at the Huset",type:"image",position:"center 50%"},{src:te,alt:"Writing session",type:"image",position:"center 50%"},{src:re,alt:"Writing vibing",type:"video",position:"center 20%"},{src:se,alt:"Writing session",type:"image",position:"center 50%"}],oe=300,ae=5e3,w={mobile:768,tablet:1024},I=()=>typeof window>"u"?3:window.innerWidth<w.mobile?1:window.innerWidth<w.tablet?2:3,ce=s=>s===1?"calc(100% - 0px)":s===2?"calc(50% - 12px)":"calc(33.33% - 16px)",S=s=>`data:image/svg+xml;base64,${btoa(`
    <svg width="400" height="400" xmlns="http://www.w3.org/2000/svg">
      <rect width="400" height="400" fill="#1a1a1a"/>
      <text x="200" y="200" font-family="Arial, sans-serif" font-size="16" fill="#666" text-anchor="middle" dominant-baseline="middle">
        ${s}
      </text>
    </svg>
  `)}`,le=(s,o)=>{if(o<=1)return new Set([0]);const a=(s-1+o)%o,d=(s+1)%o;return new Set([a,s,d])},de=()=>e.jsx("div",{className:"group relative overflow-hidden rounded-xl bg-card border flex-shrink-0 animate-pulse",children:e.jsx("div",{className:"aspect-square bg-muted/40"})}),ue=({media:s,shouldLoad:o,isActive:a})=>{const d=i.useRef(null);if(i.useEffect(()=>{const r=d.current;if(r)if(a&&o){const u=r.play();u!==void 0&&u.catch(()=>{})}else r.pause(),r.currentTime=0},[a,o]),!o)return e.jsx(de,{});const c="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",f={objectPosition:s.position||"center center"};return e.jsx("div",{className:"group relative overflow-hidden rounded-xl bg-card border hover:border-primary/50 transition-all duration-300 flex-shrink-0",children:e.jsx("div",{className:"aspect-square relative overflow-hidden",children:s.type==="video"?e.jsx("video",{ref:d,className:c,style:f,muted:!0,loop:!0,playsInline:!0,preload:"metadata",poster:S("Studio Video Preview"),onError:r=>{const u=r.currentTarget,g=document.createElement("div");g.setAttribute("style","width: 100%; height: 100%; background: #1a1a1a; display: flex; align-items: center; justify-content: center; color: #666; font-size: 16px; text-align: center;"),g.textContent="Studio Video Coming Soon",u.replaceWith(g)},children:e.jsx("source",{src:s.src,type:"video/mp4"})}):e.jsx("img",{src:s.src,alt:s.alt,className:c,style:f,loading:"lazy",decoding:"async",width:1200,height:1600,onError:r=>{r.currentTarget.src=S("Studio Photo Coming Soon")}})})})},me=()=>{const[s,o]=i.useState(0),[a,d]=i.useState(!1),[c,f]=i.useState(I()),[r,u]=i.useState(!1),[g,C]=i.useState(!1),k=i.useRef(null),p=i.useRef(null),[P,R]=i.useState(()=>new Set([0]));i.useEffect(()=>{const t=()=>{f(I())};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),i.useEffect(()=>{const t=new IntersectionObserver(([h])=>{C(h.isIntersecting&&h.intersectionRatio>=.3)},{threshold:[0,.3,.5],rootMargin:"0px 0px -30% 0px"}),n=setTimeout(()=>{p.current&&t.observe(p.current)},100);return()=>{clearTimeout(n),p.current&&t.unobserve(p.current)}},[]),i.useEffect(()=>{if(!g||r||a)return;const t=setInterval(()=>{y()},ae);return()=>clearInterval(t)},[s,r,a,c,g]);const m=Math.ceil(b.length/c),l=Math.floor(s/c);i.useEffect(()=>{R(t=>{const n=new Set(t);return le(l,m).forEach(x=>n.add(x)),n})},[l,m]);const v=t=>{a||(d(!0),o(t*c),setTimeout(()=>d(!1),oe))},E=()=>{u(!0)},T=()=>{u(!1)},y=()=>{const t=l===m-1?0:l+1;v(t)},V=()=>{const t=l===0?m-1:l-1;v(t)},M=t=>{const n=t*c,h=Math.min(n+c,b.length),x=b.slice(n,h),A=P.has(t),B=t===l;return x.map((O,W)=>{const z=n+W;return e.jsx("div",{className:"flex-shrink-0",style:{width:ce(c)},children:e.jsx(ue,{media:O,shouldLoad:A,isActive:B})},z)})},j=t=>`
    absolute top-1/2 -translate-y-1/2 z-10 bg-background/80 backdrop-blur-sm border rounded-full p-3 transition-all duration-300
    hover:bg-background hover:border-primary/50 text-foreground hover:text-primary cursor-pointer
  `,L=t=>`
    w-2 h-2 rounded-full transition-all duration-300
    ${t?"bg-primary w-8":"bg-muted-foreground/30 hover:bg-muted-foreground/50"}
    ${a?"cursor-not-allowed opacity-50":"cursor-pointer"}
  `;return e.jsx("section",{ref:p,id:"behind-scenes",className:"py-20 bg-card/30",children:e.jsxs("div",{className:"container-width section-padding",children:[e.jsx("div",{className:"text-center mb-16",children:e.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Behind the ",e.jsx("span",{className:"text-gradient",children:"Scenes"})]})}),e.jsxs("div",{className:"relative",onMouseEnter:E,onMouseLeave:T,children:[e.jsx("button",{onClick:V,disabled:!1,className:`left-0 ${j()}`,children:e.jsx($,{size:24})}),e.jsx("button",{onClick:y,disabled:!1,className:`right-0 ${j()}`,children:e.jsx(_,{size:24})}),e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"px-8",children:e.jsx("div",{ref:k,className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${l*100}%)`},children:Array.from({length:m},(t,n)=>e.jsx("div",{className:"flex gap-6 flex-shrink-0 w-full",children:M(n)},`page-${n}`))})})}),e.jsx("div",{className:"flex justify-center mt-8 gap-2",children:Array.from({length:m},(t,n)=>e.jsx("button",{disabled:a,onClick:()=>v(n),className:L(l===n)},n))})]})]})})};export{me as default};
