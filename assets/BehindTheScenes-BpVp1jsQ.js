import{r as n,j as e,n as $,o as _}from"./react-vendors-Be2QoXv1.js";import"./vendor-aNe8OWTQ.js";import"./markdown-o4qCf7PK.js";const D="/assets/gantriis-recording-B7Dk0U22.mp4",J="/assets/live-1-CJalj0n1.jpg",U="/assets/mikkel-mixing-cxR5atlr.jpg",q="/assets/september-kid-recording-LOZE4qNJ.mp4",G="/assets/september-kid-vibing-C_97Zyfx.mp4",K="/assets/studio-1-DrxUvOSG.jpg",Z="/assets/studio-2-B5SdV_a4.jpg",X="/assets/studio-3-BiAOva-x.jpg",F="/assets/studio-4-BeYIRI9l.jpg",H="/assets/studio-5-vmt-UocX.jpg",Q="/assets/studio-6-S-fpppbM.jpg",Y="/assets/studio-7-C8ZLEtbq.jpg",ee="/assets/studio-8-CAzChLkB.jpg",te="/assets/studio-9-CwJQ0Tdi.jpg",se="/assets/studio-10-CEOlmeeJ.jpg",ie="/assets/tue-recording-DECpJtaB.mp4",ne="/assets/wernby-vibing-Bk2nCSe5.mp4",re="/assets/writing-vibing-nRJm6xtx.mp4",x=[{src:K,alt:"Studio overview",type:"image"},{src:q,alt:"Recording session",type:"video",position:"center 30%"},{src:Z,alt:"Recording setup",type:"image"},{src:X,alt:"Equipment close-up",type:"image"},{src:D,alt:"Mixing session in action",type:"video",position:"center 20%"},{src:U,alt:"Mixing station",type:"image",position:"center center"},{src:F,alt:"Vocal booth",type:"image"},{src:ie,alt:"Tue recording",type:"video",position:"center 40%"},{src:H,alt:"Control room",type:"image",position:"center 90%"},{src:Q,alt:"Writing session",type:"image",position:"center 50%"},{src:ne,alt:"Wernby vibing",type:"video",position:"center 20%"},{src:Y,alt:"Writing session",type:"image",position:"center 50%"},{src:ee,alt:"Writing session",type:"image",position:"center 50%"},{src:G,alt:"September kid vibing",type:"video",position:"center 20%"},{src:J,alt:"Live at the Huset",type:"image",position:"center 50%"},{src:te,alt:"Writing session",type:"image",position:"center 50%"},{src:re,alt:"Writing vibing",type:"video",position:"center 20%"},{src:se,alt:"Writing session",type:"image",position:"center 50%"}],oe=300,ae=5e3,w={mobile:768,tablet:1024},I=()=>typeof window>"u"?3:window.innerWidth<w.mobile?1:window.innerWidth<w.tablet?2:3,ce=i=>i===1?"calc(100% - 0px)":i===2?"calc(50% - 12px)":"calc(33.33% - 16px)",S=i=>`data:image/svg+xml;base64,${btoa(`
    <svg width="400" height="400" xmlns="http://www.w3.org/2000/svg">
      <rect width="400" height="400" fill="#1a1a1a"/>
      <text x="200" y="200" font-family="Arial, sans-serif" font-size="16" fill="#666" text-anchor="middle" dominant-baseline="middle">
        ${i}
      </text>
    </svg>
  `)}`,le=(i,o)=>{if(o<=1)return new Set([0]);const a=(i-1+o)%o,d=(i+1)%o;return new Set([a,i,d])},de=()=>e.jsx("div",{className:"group relative overflow-hidden rounded-xl bg-card border flex-shrink-0 animate-pulse",children:e.jsx("div",{className:"aspect-square bg-muted/40"})}),ue=({media:i,shouldLoad:o,isActive:a})=>{const d=n.useRef(null);if(n.useEffect(()=>{const r=d.current;if(r)if(a&&o){const u=r.play();u!==void 0&&u.catch(()=>{})}else r.pause(),r.currentTime=0},[a,o]),!o)return e.jsx(de,{});const c="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",h={objectPosition:i.position||"center center"};return e.jsx("div",{className:"group relative overflow-hidden rounded-xl bg-card border hover:border-primary/50 transition-all duration-300 flex-shrink-0",children:e.jsx("div",{className:"aspect-square relative overflow-hidden",children:i.type==="video"?e.jsx("video",{ref:d,className:c,style:h,muted:!0,loop:!0,playsInline:!0,preload:"metadata",poster:S("Studio Video Preview"),onError:r=>{const u=r.currentTarget,g=document.createElement("div");g.setAttribute("style","width: 100%; height: 100%; background: #1a1a1a; display: flex; align-items: center; justify-content: center; color: #666; font-size: 16px; text-align: center;"),g.textContent="Studio Video Coming Soon",u.replaceWith(g)},children:e.jsx("source",{src:i.src,type:"video/mp4"})}):e.jsx("img",{src:i.src,alt:i.alt,className:c,style:h,loading:"lazy",decoding:"async",width:1200,height:1600,onError:r=>{r.currentTarget.src=S("Studio Photo Coming Soon")}})})})},fe=()=>{const[i,o]=n.useState(0),[a,d]=n.useState(!1),[c,h]=n.useState(I()),[r,u]=n.useState(!1),[g,N]=n.useState(!1),C=n.useRef(null),p=n.useRef(null),[P,k]=n.useState(()=>new Set([0]));n.useEffect(()=>{const t=()=>{h(I())};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),n.useEffect(()=>{const t=new IntersectionObserver(([f])=>{N(f.isIntersecting&&f.intersectionRatio>=.3)},{threshold:[0,.3,.5],rootMargin:"0px 0px -30% 0px"}),s=setTimeout(()=>{p.current&&t.observe(p.current)},100);return()=>{clearTimeout(s),p.current&&t.unobserve(p.current)}},[]),n.useEffect(()=>{if(!g||r||a)return;const t=setInterval(()=>{y()},ae);return()=>clearInterval(t)},[i,r,a,c,g]);const m=Math.ceil(x.length/c),l=Math.floor(i/c);n.useEffect(()=>{k(t=>{const s=new Set(t);return le(l,m).forEach(b=>s.add(b)),s})},[l,m]);const v=t=>{a||(d(!0),o(t*c),setTimeout(()=>d(!1),oe))},E=()=>{u(!0)},R=()=>{u(!1)},y=()=>{const t=l===m-1?0:l+1;v(t)},T=()=>{const t=l===0?m-1:l-1;v(t)},V=t=>{const s=t*c,f=Math.min(s+c,x.length),b=x.slice(s,f),B=P.has(t),L=t===l;return b.map((O,W)=>{const z=s+W;return e.jsx("div",{className:"flex-shrink-0",style:{width:ce(c)},children:e.jsx(ue,{media:O,shouldLoad:B,isActive:L})},z)})},j=t=>`
    absolute top-1/2 -translate-y-1/2 z-10 bg-background/80 backdrop-blur-sm border rounded-full p-3 transition-all duration-300
    hover:bg-background hover:border-primary/50 text-foreground hover:text-primary cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/60
  `,M=t=>`
    group relative inline-flex items-center justify-center w-12 h-12 rounded-full transition-all duration-300
    ${t?"cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/60":"cursor-not-allowed opacity-50"}
  `,A=t=>`
    block h-2 rounded-full transition-all duration-300
    ${t?"bg-primary w-8":"bg-muted-foreground/30 group-hover:bg-muted-foreground/50 w-2"}
  `;return e.jsx("section",{ref:p,id:"behind-scenes",className:"py-20 bg-card/30",children:e.jsxs("div",{className:"container-width section-padding",children:[e.jsx("div",{className:"text-center mb-16",children:e.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Behind the ",e.jsx("span",{className:"text-gradient",children:"Scenes"})]})}),e.jsxs("div",{className:"relative",onMouseEnter:E,onMouseLeave:R,children:[e.jsx("button",{type:"button",onClick:T,disabled:!1,className:`left-0 ${j()}`,"aria-label":"Show previous studio media",children:e.jsx($,{size:24})}),e.jsx("button",{type:"button",onClick:y,disabled:!1,className:`right-0 ${j()}`,"aria-label":"Show next studio media",children:e.jsx(_,{size:24})}),e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"px-8",children:e.jsx("div",{ref:C,className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${l*100}%)`},children:Array.from({length:m},(t,s)=>e.jsx("div",{className:"flex gap-6 flex-shrink-0 w-full",children:V(s)},`page-${s}`))})})}),e.jsx("div",{className:"flex justify-center mt-8 gap-2",children:Array.from({length:m},(t,s)=>e.jsxs("button",{type:"button",disabled:a,onClick:()=>v(s),className:M(!a),"aria-label":`Go to slide ${s+1}`,"aria-current":l===s?"true":void 0,children:[e.jsx("span",{"aria-hidden":"true",className:A(l===s)}),e.jsxs("span",{className:"sr-only",children:["Slide ",s+1]})]},s))})]})]})})};export{fe as default};
