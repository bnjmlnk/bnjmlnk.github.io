import{u as p,r as m,j as e}from"./index-Cx8TuU7s.js";import{C as u,c as b}from"./card-Cb1B2eC_.js";const h=({spotifyId:o,index:i,onVisible:a,isVisible:s})=>{const d=m.useRef(null);return m.useEffect(()=>{const n=d.current;if(!n||s)return;const l=new IntersectionObserver(([x])=>{x.isIntersecting&&a(i)},{threshold:.25,rootMargin:"0px 0px -10% 0px"});return l.observe(n),()=>{l.disconnect()}},[i,s,a]),e.jsx("div",{ref:d,className:"spotify-embed",children:s?e.jsx("iframe",{style:{borderRadius:"12px"},src:`https://open.spotify.com/embed/track/${o}?utm_source=generator&theme=0`,width:"100%",height:"352",frameBorder:"0",loading:"lazy",title:`Spotify player for track ${o}`,allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"}):e.jsxs("div",{className:"flex h-[352px] flex-col items-center justify-center gap-3 rounded-xl border border-dashed border-border bg-card/40 text-center","aria-hidden":"true",children:[e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-border border-t-primary"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading previewâ€¦"})]})})},j=()=>{const{elementRef:o,isVisible:i}=p({threshold:.3}),{elementRef:a,isVisible:s}=p({threshold:.1}),[d,n]=m.useState(()=>new Set),l=m.useCallback(t=>{n(r=>{if(r.has(t))return r;const c=new Set(r);return c.add(t),c})},[]),x=[{role:"Tracking, Producer, Mixer, Master",spotifyId:"2xVAHsSKpdRW53rrxsrCaU"},{role:"Producer, Mixer",spotifyId:"3ysi3ymtAp5xOUOhw1Br88"},{role:"Co-Produced, Mixer",spotifyId:"03mD3frBW8OoknLYhtnf1L"},{role:"Co-Produced, Mixer",spotifyId:"1WERWWhiCaVUS2GFdDYUHG"},{role:"Tracking, Producer, Mix, Master",spotifyId:"1VfQSrgjbonza7kiASsKbE"},{role:"Producer, Mixer",spotifyId:"6Tr9OVN5sn5AGsgY6S2Dc4"}];return e.jsx("section",{id:"work",className:"py-20 bg-card/30",children:e.jsxs("div",{className:"container-width section-padding",children:[e.jsxs("div",{ref:o,className:`text-center mb-16 fade-in-up ${i?"animate":""}`,children:[e.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Featured ",e.jsx("span",{className:"text-gradient",children:"Work"})]}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Listen to some of my recent productions and collaborations"})]}),e.jsx("div",{ref:a,className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:x.map((t,r)=>{const c=r%3+1,f=d.has(r);return e.jsx(u,{className:`group hover:border-primary/50 hover-instant fade-in-up stagger-delay-${c} ${s?"animate":""}`,children:e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-semibold text-primary mb-3",children:t.role}),e.jsx(h,{spotifyId:t.spotifyId,index:r,isVisible:f,onVisible:l})]})})},r)})})]})})};export{j as default};
